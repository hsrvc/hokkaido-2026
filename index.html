<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>åŒ—æµ·é“ 2026</title>
<meta name="description" content="2026 åŒ—æµ·é“å†¬æ—¥è¡Œç¨‹">
<meta name="theme-color" content="#0f172a">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ”</text></svg>">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#0f172a;
  --surface:#1e293b;
  --surface2:#334155;
  --text:#f1f5f9;
  --text2:#94a3b8;
  --accent:#38bdf8;
  --accent2:#818cf8;
  --warm:#f59e0b;
  --green:#34d399;
  --red:#f87171;
  --pink:#f472b6;
  --radius:16px;
  --safe-top:env(safe-area-inset-top,0px);
  --safe-bottom:env(safe-area-inset-bottom,0px);
}
html{scroll-behavior:smooth;-webkit-text-size-adjust:100%}
body{
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","Noto Sans TC","Noto Sans JP",system-ui,sans-serif;
  background:var(--bg);color:var(--text);
  line-height:1.6;
  padding:var(--safe-top) 0 var(--safe-bottom);
  min-height:100dvh;
  overflow-x:hidden;
}

/* Hero */
.hero{
  position:relative;
  padding:60px 20px 40px;
  text-align:center;
  background:linear-gradient(135deg,#0f172a 0%,#1e3a5f 50%,#164e63 100%);
  overflow:hidden;
}
.hero::before{
  content:"";position:absolute;inset:0;
  background:radial-gradient(ellipse at 30% 20%,rgba(56,189,248,.15) 0%,transparent 60%),
             radial-gradient(ellipse at 70% 80%,rgba(129,140,248,.1) 0%,transparent 60%);
}
.hero-snow{position:absolute;inset:0;pointer-events:none;opacity:.4;width:100%;height:100%;display:block}
.hero h1{font-size:2rem;font-weight:800;letter-spacing:-.02em;position:relative}
.hero h1 span{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background-clip:text;
}
.hero .dates{color:var(--text2);font-size:.95rem;margin-top:8px;position:relative}
.hero .tag-row{display:flex;gap:8px;justify-content:center;margin-top:16px;flex-wrap:wrap;position:relative}
.tag{
  display:inline-flex;align-items:center;gap:4px;
  padding:4px 12px;border-radius:20px;font-size:.8rem;font-weight:600;
  background:rgba(255,255,255,.08);backdrop-filter:blur(8px);
  border:1px solid rgba(255,255,255,.1);
}

/* Nav */
.nav{
  position:sticky;top:0;z-index:100;
  background:rgba(15,23,42,.85);backdrop-filter:blur(20px);
  border-bottom:1px solid rgba(255,255,255,.06);
  overflow-x:auto;-webkit-overflow-scrolling:touch;
  scrollbar-width:none;
}
.nav::-webkit-scrollbar{display:none}
.nav-inner{display:flex;gap:4px;padding:8px 16px;min-width:max-content}
.nav a{
  padding:8px 16px;border-radius:12px;font-size:.85rem;font-weight:600;
  color:var(--text2);text-decoration:none;white-space:nowrap;
  transition:all .2s;
}
.nav a:hover,.nav a.active{background:var(--surface);color:var(--text)}
.nav a.today{color:var(--accent);border:1px solid rgba(56,189,248,.3)}

/* Section */
.section{padding:24px 16px;max-width:640px;margin:0 auto}
.section-title{
  font-size:1.3rem;font-weight:800;margin-bottom:20px;
  display:flex;align-items:center;gap:10px;
}
.section-title .icon{font-size:1.4rem}

/* Day card */
.day-card{
  background:var(--surface);border-radius:var(--radius);
  margin-bottom:16px;overflow:hidden;
  border:1px solid rgba(255,255,255,.06);
  transition:transform .2s;
}
.day-card:active{transform:scale(.98)}
.day-header{
  padding:16px 20px;cursor:pointer;
  display:flex;align-items:center;gap:14px;
  -webkit-tap-highlight-color:transparent;
}
.day-num{
  width:48px;height:48px;border-radius:14px;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  font-weight:800;font-size:.75rem;line-height:1.2;flex-shrink:0;
}
.day-info{flex:1;min-width:0}
.day-info h3{font-size:1rem;font-weight:700;line-height:1.3}
.day-info .location{font-size:.85rem;color:var(--text2);margin-top:2px}
.day-chevron{color:var(--text2);transition:transform .3s;flex-shrink:0;font-size:1.2rem}
.day-card.open .day-chevron{transform:rotate(180deg)}
.day-body{
  max-height:0;overflow:hidden;transition:max-height .4s ease;
}
.day-card.open .day-body{max-height:2000px}
.day-content{padding:0 20px 20px}

/* Timeline items */
.tl{position:relative;padding-left:24px}
.tl::before{content:"";position:absolute;left:7px;top:8px;bottom:8px;width:2px;background:var(--surface2);border-radius:1px}
.tl-item{position:relative;padding-bottom:16px}
.tl-item:last-child{padding-bottom:0}
.tl-dot{
  position:absolute;left:-24px;top:6px;
  width:16px;height:16px;border-radius:50%;
  border:2px solid var(--surface);
}
.tl-dot.flight{background:var(--accent)}
.tl-dot.hotel{background:var(--pink)}
.tl-dot.transport{background:var(--warm)}
.tl-dot.activity{background:var(--green)}
.tl-dot.car{background:var(--accent2)}
.tl-time{font-size:.8rem;color:var(--text2);font-weight:600;font-variant-numeric:tabular-nums}
.tl-title{font-weight:600;font-size:.9rem;margin-top:2px}
.tl-desc{font-size:.85rem;color:var(--text2);margin-top:2px}

/* Info cards */
.info-card{
  background:var(--surface);border-radius:var(--radius);padding:16px 20px;
  margin-bottom:12px;border:1px solid rgba(255,255,255,.06);
}
.info-card h4{font-size:.9rem;font-weight:700;margin-bottom:8px;display:flex;align-items:center;gap:8px}
.info-row{display:flex;justify-content:space-between;padding:6px 0;font-size:.85rem;border-bottom:1px solid rgba(255,255,255,.04)}
.info-row:last-child{border-bottom:none}
.info-label{color:var(--text2)}
.info-value{font-weight:600;text-align:right}
.info-value.mono{font-family:"SF Mono",monospace;font-size:.8rem;letter-spacing:.02em}
.info-value a{color:var(--accent);text-decoration:none}

/* Badge */
.badge{
  display:inline-block;padding:2px 8px;border-radius:6px;font-size:.75rem;font-weight:700;
}
.badge-meal{background:rgba(52,211,153,.15);color:var(--green)}
.badge-booking{background:rgba(56,189,248,.15);color:var(--accent)}
.badge-alert{background:rgba(248,113,113,.15);color:var(--red)}

/* Color coding for day nums */
.c-blue{background:linear-gradient(135deg,#1e3a5f,#164e63);color:var(--accent)}
.c-purple{background:linear-gradient(135deg,#312e81,#4c1d95);color:var(--accent2)}
.c-warm{background:linear-gradient(135deg,#78350f,#92400e);color:var(--warm)}
.c-green{background:linear-gradient(135deg,#064e3b,#065f46);color:var(--green)}
.c-pink{background:linear-gradient(135deg,#831843,#9d174d);color:var(--pink)}

/* Footer */
.footer{text-align:center;padding:40px 16px 60px;color:var(--text2);font-size:.8rem}
.footer a{color:var(--accent);text-decoration:none}

/* Install banner */
.install-banner{
  display:none;position:fixed;bottom:20px;left:16px;right:16px;z-index:200;
  background:var(--surface);border-radius:var(--radius);padding:16px 20px;
  border:1px solid rgba(56,189,248,.2);
  box-shadow:0 8px 32px rgba(0,0,0,.4);
  animation:slideUp .4s ease;
}
@keyframes slideUp{from{transform:translateY(100px);opacity:0}to{transform:translateY(0);opacity:1}}
.install-banner .btn{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff;border:none;padding:10px 20px;border-radius:10px;
  font-weight:700;font-size:.9rem;cursor:pointer;width:100%;margin-top:12px;
}
.install-banner .dismiss{
  position:absolute;top:12px;right:16px;background:none;border:none;
  color:var(--text2);font-size:1.2rem;cursor:pointer;
}

/* Responsive */
@media(min-width:640px){
  .section{padding:32px 24px}
  .hero{padding:80px 24px 50px}
  .hero h1{font-size:2.5rem}
}
</style>
</head>
<body>

<!-- Hero -->
<div class="hero">
  <canvas class="hero-snow" id="snow"></canvas>
  <h1><span>åŒ—æµ·é“</span> å†¬æ—¥æ—…è¡Œ</h1>
  <div class="dates">2026/02/17 (äºŒ) - 02/28 (å…­) &middot; 11 å¤©</div>
  <div class="tag-row">
    <span class="tag">çŸ¥åºŠ</span>
    <span class="tag">é‡§è·¯</span>
    <span class="tag">æ—­å·</span>
    <span class="tag">å¯Œè‰¯é‡</span>
    <span class="tag">ç¾ç‘›</span>
  </div>
</div>

<!-- Nav -->
<nav class="nav" id="nav">
  <div class="nav-inner">
    <a href="#flights">èˆªç­</a>
    <a href="#day-1">D1</a><a href="#day-2">D2</a><a href="#day-3">D3</a>
    <a href="#day-4">D4</a><a href="#day-5">D5</a><a href="#day-6">D6</a>
    <a href="#day-7">D7</a><a href="#day-8">D8</a><a href="#day-9">D9</a>
    <a href="#day-10">D10</a><a href="#day-11">D11</a>
    <a href="#transport">äº¤é€š</a>
    <a href="#hotels">ä½å®¿</a>
    <a href="#insurance">ä¿éšª</a>
  </div>
</nav>

<!-- Flights -->
<div class="section" id="flights">
  <div class="section-title"><span class="icon">âœˆ</span> èˆªç­</div>
  <div class="info-card">
    <h4>02/17 (äºŒ) å°åŒ— â†’ æ±äº¬</h4>
    <div class="info-row"><span class="info-label">èˆªç­</span><span class="info-value">æ¨‚æ¡ƒ MM860</span></div>
    <div class="info-row"><span class="info-label">èµ·é£›</span><span class="info-value">æ¡ƒåœ’ TPE T1</span></div>
    <div class="info-row"><span class="info-label">æŠµé”</span><span class="info-value">ç¾½ç”° HND T3 (00:50+1)</span></div>
  </div>
  <div class="info-card">
    <h4>02/18 (ä¸‰) æ±äº¬ â†’ å¥³æ»¿åˆ¥</h4>
    <div class="info-row"><span class="info-label">èˆªç­</span><span class="info-value">Air Do HD075</span></div>
    <div class="info-row"><span class="info-label">èµ·é£›</span><span class="info-value">ç¾½ç”° HND T2 07:00</span></div>
    <div class="info-row"><span class="info-label">æŠµé”</span><span class="info-value">å¥³æ»¿åˆ¥ MMB</span></div>
  </div>
</div>

<!-- Day 1 -->
<div class="section" id="day-1">
<div class="day-card">
  <div class="day-header" onclick="toggle(this)">
    <div class="day-num c-blue"><div>02/17</div><div>äºŒ</div></div>
    <div class="day-info"><h3>å‡ºç™¼æ—¥ï¼šå°åŒ— â†’ æ±äº¬</h3><div class="location">æ¡ƒåœ’æ©Ÿå ´ T1 â†’ ç¾½ç”° T3</div></div>
    <div class="day-chevron">&#x25BC;</div>
  </div>
  <div class="day-body"><div class="day-content">
    <div class="tl">
      <div class="tl-item"><div class="tl-dot flight"></div>
        <div class="tl-time">æ™šé–“</div>
        <div class="tl-title">æ¨‚æ¡ƒ MM860 æ¡ƒåœ’ â†’ ç¾½ç”°</div>
        <div class="tl-desc">ç´…çœ¼ç­æ©Ÿï¼Œéš”å¤© 00:50 æŠµé”ç¾½ç”° T3</div>
      </div>
      <div class="tl-item"><div class="tl-dot hotel"></div>
        <div class="tl-time">00:50+1</div>
        <div class="tl-title">ç¾½ç”°æ©Ÿå ´éå¤œ</div>
        <div class="tl-desc">è½‰æ©Ÿç­‰å¾…ï¼Œéš”å¤©ä¸€æ—©æ­ Air Do é£›å¥³æ»¿åˆ¥</div>
      </div>
    </div>
  </div></div>
</div>
</div>

<!-- Day 2 -->
<div class="section" id="day-2">
<div class="day-card">
  <div class="day-header" onclick="toggle(this)">
    <div class="day-num c-blue"><div>02/18</div><div>ä¸‰</div></div>
    <div class="day-info"><h3>ç¾½ç”° â†’ å¥³æ»¿åˆ¥ â†’ çŸ¥åºŠ</h3><div class="location">çŸ¥åºŠæ ¼è˜­åŒ—è¾›å¤·é£¯åº—</div></div>
    <div class="day-chevron">&#x25BC;</div>
  </div>
  <div class="day-body"><div class="day-content">
    <div class="tl">
      <div class="tl-item"><div class="tl-dot flight"></div>
        <div class="tl-time">07:00</div>
        <div class="tl-title">Air Do HD075 ç¾½ç”° T2 â†’ å¥³æ»¿åˆ¥</div>
        <div class="tl-desc">ç´„ 1h45m èˆªç¨‹</div>
      </div>
      <div class="tl-item"><div class="tl-dot transport"></div>
        <div class="tl-time">09:35</div>
        <div class="tl-title">çŸ¥åºŠæ©Ÿå ´ç·š (ã‚¨ã‚¢ãƒãƒ¼ãƒˆãƒ©ã‚¤ãƒŠãƒ¼) â†’ å®‡ç™»å‘‚</div>
        <div class="tl-desc">å¥³æ»¿åˆ¥ç©ºæ¸¯ç›´é”ï¼Œç´„ 2h10m<br>11:45 æŠµé”å®‡ç™»å‘‚æº«æ³‰ï½œÂ¥3,500/äºº<br><span class="badge badge-booking">å…é ç´„ï¼Œç¾å ´ä¸Šè»Š</span></div>
      </div>
      <div class="tl-item"><div class="tl-dot hotel"></div>
        <div class="tl-time">å…¥ä½</div>
        <div class="tl-title">çŸ¥åºŠæ ¼è˜­åŒ—è¾›å¤·é£¯åº—</div>
        <div class="tl-desc">æœ¬é¤¨æµ·æ™¯é›™åºŠæˆ¿ <span class="badge badge-meal">å«æ—©æ™šé¤</span></div>
      </div>
    </div>
  </div></div>
</div>
</div>

<!-- Day 3 -->
<div class="section" id="day-3">
<div class="day-card">
  <div class="day-header" onclick="toggle(this)">
    <div class="day-num c-blue"><div>02/19</div><div>å››</div></div>
    <div class="day-info"><h3>çŸ¥åºŠè‡ªç”±æ—¥</h3><div class="location">çŸ¥åºŠæ ¼è˜­åŒ—è¾›å¤·é£¯åº— (æ›æˆ¿)</div></div>
    <div class="day-chevron">&#x25BC;</div>
  </div>
  <div class="day-body"><div class="day-content">
    <div class="tl">
      <div class="tl-item"><div class="tl-dot activity"></div>
        <div class="tl-time">å…¨å¤©</div>
        <div class="tl-title">çŸ¥åºŠæ¢ç´¢</div>
        <div class="tl-desc">æµå†°ã€æº«æ³‰ã€è‡ªç„¶æ™¯è§€</div>
      </div>
      <div class="tl-item"><div class="tl-dot hotel"></div>
        <div class="tl-time">å…¥ä½</div>
        <div class="tl-title">çŸ¥åºŠæ ¼è˜­åŒ—è¾›å¤· (æ›æˆ¿)</div>
        <div class="tl-desc">ç¾ä»£æ—¥å¼æº«æ³‰æˆ¿ <span class="badge badge-meal">å«æ—©æ™šé¤</span></div>
      </div>
    </div>
  </div></div>
</div>
</div>

<!-- Day 4 -->
<div class="section" id="day-4">
<div class="day-card">
  <div class="day-header" onclick="toggle(this)">
    <div class="day-num c-purple"><div>02/20</div><div>äº”</div></div>
    <div class="day-info"><h3>çŸ¥åºŠ â†’ é‡§è·¯</h3><div class="location">å·´å£« + JR çŸ¥åºŠæ‘©å‘¨è™Ÿ</div></div>
    <div class="day-chevron">&#x25BC;</div>
  </div>
  <div class="day-body"><div class="day-content">
    <div class="tl">
      <div class="tl-item"><div class="tl-dot transport"></div>
        <div class="tl-time">09:43</div>
        <div class="tl-title">çŸ¥åºŠæ©Ÿå ´ç·šå·´å£«</div>
        <div class="tl-desc">åŒ—è¾›å¤·é£¯åº—é–€å£ä¸Šè»Š â†’ 10:36 æ–œé‡Œå·´å£«ç¸½ç«™<br>ç„¡éœ€é ç´„ï¼Œç›´æ¥ç­‰è»Š</div>
      </div>
      <div class="tl-item"><div class="tl-dot transport"></div>
        <div class="tl-time">11:14</div>
        <div class="tl-title">JR å¿«é€Ÿã€ŒçŸ¥åºŠæ‘©å‘¨è™Ÿã€</div>
        <div class="tl-desc">JR çŸ¥åºŠæ–œé‡Œç«™ â†’ 13:34 JR é‡§è·¯ç«™</div>
      </div>
      <div class="tl-item"><div class="tl-dot hotel"></div>
        <div class="tl-time">å…¥ä½</div>
        <div class="tl-title">åŒ—æµ·é“åº·ç¦ç‰¹é…’åº— (é‡§è·¯)</div>
        <div class="tl-desc">ç¶“æ¿Ÿé›™äººæˆ¿ <span class="badge badge-meal">å«æ—©é¤</span></div>
      </div>
    </div>
  </div></div>
</div>
</div>

<!-- Day 5 -->
<div class="section" id="day-5">
<div class="day-card">
  <div class="day-header" onclick="toggle(this)">
    <div class="day-num c-purple"><div>02/21</div><div>å…­</div></div>
    <div class="day-info"><h3>é‡§è·¯è‡ªç”±æ—¥</h3><div class="location">é‡§è·¯å¸‚å€</div></div>
    <div class="day-chevron">&#x25BC;</div>
  </div>
  <div class="day-body"><div class="day-content">
    <div class="tl">
      <div class="tl-item"><div class="tl-dot activity"></div>
        <div class="tl-time">å…¨å¤©</div>
        <div class="tl-title">é‡§è·¯æ¢ç´¢</div>
        <div class="tl-desc">é‡§è·¯æ¿•åŸã€å’Œå•†å¸‚å ´ã€å¹£èˆæ©‹å¤•é™½</div>
      </div>
      <div class="tl-item"><div class="tl-dot hotel"></div>
        <div class="tl-time">çºŒä½</div>
        <div class="tl-title">åŒ—æµ·é“åº·ç¦ç‰¹é…’åº— (ç¬¬ 2 æ™š)</div>
        <div class="tl-desc">ç¶“æ¿Ÿé›™äººæˆ¿ <span class="badge badge-meal">å«æ—©é¤</span></div>
      </div>
    </div>
  </div></div>
</div>
</div>

<!-- Day 6 -->
<div class="section" id="day-6">
<div class="day-card">
  <div class="day-header" onclick="toggle(this)">
    <div class="day-num c-warm"><div>02/22</div><div>æ—¥</div></div>
    <div class="day-info"><h3>é‡§è·¯ â†’ ç¶²èµ° â†’ æ—­å·</h3><div class="location">å·´å£« + JR ç‰¹æ€¥é•·é€”ç§»å‹•</div></div>
    <div class="day-chevron">&#x25BC;</div>
  </div>
  <div class="day-body"><div class="day-content">
    <div class="tl">
      <div class="tl-item"><div class="tl-dot transport"></div>
        <div class="tl-time">07:50</div>
        <div class="tl-title">æ±åŒ—æµ·é“ç‰¹æ€¥å·´å£« 4 è™Ÿ</div>
        <div class="tl-desc">é‡§è·¯ç«™å‰ â†’ 15:05 ç¶²èµ°ç«™<br><span class="badge badge-booking">é ç´„ 1018929537</span></div>
      </div>
      <div class="tl-item"><div class="tl-dot transport"></div>
        <div class="tl-time">15:40</div>
        <div class="tl-title">JR ç‰¹æ€¥ Okhotsk 84 è™Ÿ (é¦–é¸)</div>
        <div class="tl-desc">ç¶²èµ° â†’ 20:01 æ—­å·<br>å‚™é¸ï¼š17:49 ç‰¹æ€¥å¤§é›ª â†’ 21:44 æ—­å·</div>
      </div>
      <div class="tl-item"><div class="tl-dot hotel"></div>
        <div class="tl-time">å…¥ä½</div>
        <div class="tl-title">HOTEL AMANEK (æ—­å·)</div>
        <div class="tl-desc">æ¨™æº–é›™äººæˆ¿ (ä¸å«é¤)</div>
      </div>
    </div>
  </div></div>
</div>
</div>

<!-- Day 7 -->
<div class="section" id="day-7">
<div class="day-card">
  <div class="day-header" onclick="toggle(this)">
    <div class="day-num c-warm"><div>02/23</div><div>ä¸€</div></div>
    <div class="day-info"><h3>æ—­å·è‡ªç”±æ—¥</h3><div class="location">æ—­å·å¸‚å€ (æˆ–æ—­å²³å‚™æ¡ˆæ—¥)</div></div>
    <div class="day-chevron">&#x25BC;</div>
  </div>
  <div class="day-body"><div class="day-content">
    <div class="tl">
      <div class="tl-item"><div class="tl-dot activity"></div>
        <div class="tl-time">å…¨å¤©</div>
        <div class="tl-title">æ—­å·æ¢ç´¢</div>
        <div class="tl-desc">æ—­å±±å‹•ç‰©åœ’ã€æ‹‰éºµæ‘ã€å¸¸ç›¤å…¬åœ’<br><span class="badge badge-booking">è‹¥ 02/24 å¤©å€™ä¸ä½³ï¼Œæ—­å²³æ”¹ä»Šå¤©</span></div>
      </div>
      <div class="tl-item"><div class="tl-dot hotel"></div>
        <div class="tl-time">çºŒä½</div>
        <div class="tl-title">HOTEL AMANEK (ç¬¬ 2 æ™š)</div>
        <div class="tl-desc">æ¨™æº–é›™äººæˆ¿ (ä¸å«é¤)</div>
      </div>
    </div>
  </div></div>
</div>
</div>

<!-- Day 8 -->
<div class="section" id="day-8">
<div class="day-card">
  <div class="day-header" onclick="toggle(this)">
    <div class="day-num c-warm"><div>02/24</div><div>äºŒ</div></div>
    <div class="day-info"><h3>æ—­å²³ãƒ­ãƒ¼ãƒ—ã‚¦ã‚§ã‚¤</h3><div class="location">å¤§é›ªå±±æ—­å²³ (è¦–å¤©å€™ï¼Œå‚™æ¡ˆ 02/23)</div></div>
    <div class="day-chevron">&#x25BC;</div>
  </div>
  <div class="day-body"><div class="day-content">
    <div class="tl">
      <div class="tl-item"><div class="tl-dot transport"></div>
        <div class="tl-time">09:15</div>
        <div class="tl-title">ã„ã§æ¹¯å·å·´å£« æ—­å·ç«™ â†’ æ—­å²³</div>
        <div class="tl-desc">66 ç•ªç·šï¼Œç´„ 1h45mï¼Œ11:03 æŠµé”<br>æˆ–æ­è¨ˆç¨‹è»Šç´„ 1h</div>
      </div>
      <div class="tl-item"><div class="tl-dot activity"></div>
        <div class="tl-time">11:30</div>
        <div class="tl-title">æ—­å²³ãƒ­ãƒ¼ãƒ—ã‚¦ã‚§ã‚¤ ä¸Šå±±</div>
        <div class="tl-desc">å±±éº“é§… (1,100m) â†’ å§¿è¦‹é§… (1,600m)<br>ä¾†å› Â¥2,300~2,800 / æ¯ 20 åˆ†é˜ä¸€ç­<br><span class="badge badge-alert">å¼·é¢¨åœé§›ï¼Œå‡ºç™¼å‰æŸ¥å®˜ç¶²</span></div>
      </div>
      <div class="tl-item"><div class="tl-dot activity"></div>
        <div class="tl-time">åˆé–“</div>
        <div class="tl-title">å§¿è¦‹å¹³å°é›ªé‹å¥è¡Œ</div>
        <div class="tl-desc">éŠå®¢ä¸­å¿ƒå¯ç§Ÿé›ªé‹<br>å§¿è¦‹ã®æ± ã€å™´æ°£å­”ã€ç²‰é›ªã€é‘½çŸ³å¡µ<br>å±±é ‚ç´„ -7~-15Â°Cï¼Œå…¨å‰¯é˜²å¯’</div>
      </div>
      <div class="tl-item"><div class="tl-dot transport"></div>
        <div class="tl-time">~15:40</div>
        <div class="tl-title">æœ«ç­çºœè»Šä¸‹å±± â†’ æ­å·´å£«å›æ—­å·</div>
        <div class="tl-desc">å›ç¨‹å·´å£« 14:15 æˆ– 16:03 ç™¼è»Š</div>
      </div>
      <div class="tl-item"><div class="tl-dot hotel"></div>
        <div class="tl-time">çºŒä½</div>
        <div class="tl-title">HOTEL AMANEK (ç¬¬ 3 æ™š)</div>
        <div class="tl-desc">æ¨™æº–é›™äººæˆ¿ (ä¸å«é¤)</div>
      </div>
    </div>
  </div></div>
</div>
</div>

<!-- Day 9 -->
<div class="section" id="day-9">
<div class="day-card">
  <div class="day-header" onclick="toggle(this)">
    <div class="day-num c-green"><div>02/25</div><div>ä¸‰</div></div>
    <div class="day-info"><h3>å–è»Š â†’ å¯Œè‰¯é‡</h3><div class="location">è‡ªé§•é–‹å§‹ï¼KICKS e-POWER 4WD</div></div>
    <div class="day-chevron">&#x25BC;</div>
  </div>
  <div class="day-body"><div class="day-content">
    <div class="tl">
      <div class="tl-item"><div class="tl-dot car"></div>
        <div class="tl-time">11:00</div>
        <div class="tl-title">æ—¥ç”¢ç§Ÿè»Š æ—­å·ç«™å‰åº— å–è»Š</div>
        <div class="tl-desc">KICKS e-POWER 4WD<br><span class="badge badge-booking">é ç´„ 26012301772</span></div>
      </div>
      <div class="tl-item"><div class="tl-dot activity"></div>
        <div class="tl-time">åˆå¾Œ</div>
        <div class="tl-title">æ—­å· â†’ å¯Œè‰¯é‡ è‡ªé§•</div>
        <div class="tl-desc">ç´„ 1.5h è»Šç¨‹ï¼Œèµ°åœ‹é“æ²¿ç·š</div>
      </div>
      <div class="tl-item"><div class="tl-dot hotel"></div>
        <div class="tl-time">å…¥ä½</div>
        <div class="tl-title">é†‹æ —æ—…é¤¨ Pension Gooseberry</div>
        <div class="tl-desc">å¯Œè‰¯é‡ä¸­å¾¡æ–™ï¼Œé›™åºŠæˆ¿ <span class="badge badge-meal">å«æ—©é¤</span></div>
      </div>
    </div>
  </div></div>
</div>
</div>

<!-- Day 10 -->
<div class="section" id="day-10">
<div class="day-card">
  <div class="day-header" onclick="toggle(this)">
    <div class="day-num c-green"><div>02/26</div><div>å››</div></div>
    <div class="day-info"><h3>å¯Œè‰¯é‡ â†’ ç¾ç‘›</h3><div class="location">è‡ªé§•ï¼Œä¸˜é™µé¢¨æ™¯</div></div>
    <div class="day-chevron">&#x25BC;</div>
  </div>
  <div class="day-body"><div class="day-content">
    <div class="tl">
      <div class="tl-item"><div class="tl-dot car"></div>
        <div class="tl-time">æ—¥é–“</div>
        <div class="tl-title">å¯Œè‰¯é‡ â†’ ç¾ç‘› è‡ªé§•</div>
        <div class="tl-desc">Biei Farmã€ç™½é¬šç€‘å¸ƒã€æ‹¼å¸ƒä¹‹è·¯<br><span class="badge badge-alert">16:00 å‰å›ä¸»è¦é“è·¯</span></div>
      </div>
      <div class="tl-item"><div class="tl-dot hotel"></div>
        <div class="tl-time">å…¥ä½</div>
        <div class="tl-title">Meiji ã®ä¸˜ã®å®¿ (ç¾ç‘›)</div>
        <div class="tl-desc">æ‹¼å¸ƒä¹‹è·¯æ—ï¼Œé›™åºŠæˆ¿ <span class="badge badge-meal">å«æ—©é¤</span></div>
      </div>
    </div>
  </div></div>
</div>
</div>

<!-- Day 11 -->
<div class="section" id="day-11">
<div class="day-card">
  <div class="day-header" onclick="toggle(this)">
    <div class="day-num c-pink"><div>02/27</div><div>äº”</div></div>
    <div class="day-info"><h3>ç¾ç‘› â†’ æ—­å· â†’ åƒæ­²</h3><div class="location">é‚„è»Šï¼ŒJR å—ä¸‹</div></div>
    <div class="day-chevron">&#x25BC;</div>
  </div>
  <div class="day-body"><div class="day-content">
    <div class="tl">
      <div class="tl-item"><div class="tl-dot car"></div>
        <div class="tl-time">~12:00</div>
        <div class="tl-title">æ—¥ç”¢ç§Ÿè»Š æ—­å·ç«™å‰åº— é‚„è»Š</div>
        <div class="tl-desc">è‡ªé§•çµæŸ</div>
      </div>
      <div class="tl-item"><div class="tl-dot transport"></div>
        <div class="tl-time">åˆå¾Œ</div>
        <div class="tl-title">æ—­å· â†’ åƒæ­² (JR)</div>
        <div class="tl-desc">ç‰¹æ€¥åˆ—è»Šå—ä¸‹</div>
      </div>
      <div class="tl-item"><div class="tl-dot hotel"></div>
        <div class="tl-time">å…¥ä½</div>
        <div class="tl-title">JR Inn åƒæ­²</div>
        <div class="tl-desc">ç¶“æ¿Ÿé›™äººæˆ¿ (ä¸å«é¤)</div>
      </div>
    </div>
  </div></div>
</div>
</div>

<!-- Transport -->
<div class="section" id="transport">
  <div class="section-title"><span class="icon">ğŸšƒ</span> äº¤é€šè©³ç´°</div>

  <div class="info-card">
    <h4>02/18 (ä¸‰) å¥³æ»¿åˆ¥ç©ºæ¸¯ â†’ çŸ¥åºŠ</h4>
    <div class="info-row"><span class="info-label">è·¯ç·š</span><span class="info-value">çŸ¥åºŠæ©Ÿå ´ç·š (ã‚¨ã‚¢ãƒãƒ¼ãƒˆãƒ©ã‚¤ãƒŠãƒ¼)</span></div>
    <div class="info-row"><span class="info-label">ç™¼è»Š</span><span class="info-value">09:35 å¥³æ»¿åˆ¥ç©ºæ¸¯</span></div>
    <div class="info-row"><span class="info-label">æŠµé”</span><span class="info-value">11:45 å®‡ç™»å‘‚æº«æ³‰</span></div>
    <div class="info-row"><span class="info-label">ç¥¨åƒ¹</span><span class="info-value">Â¥3,500 / äºº</span></div>
    <div class="info-row"><span class="info-label">è»Šç¨‹</span><span class="info-value">ç´„ 2h10m ç›´é”å…è½‰è»Š</span></div>
    <div class="info-row"><span class="info-label">é ç´„</span><span class="info-value">ä¸éœ€é ç´„ï¼Œç¾å ´ä¸Šè»Š</span></div>
    <div class="info-row"><span class="info-label">å‚™é¸ç­æ¬¡</span><span class="info-value">13:30 ç™¼ â†’ 15:43 æŠµé”</span></div>
    <div class="info-row"><span class="info-label">å·¡è¿´å·´å£«</span><span class="info-value">å…è²»é€è‡³åŒ—è¾›å¤·é£¯åº— (15:50/17:15)</span></div>
  </div>

  <div class="info-card">
    <h4>02/20 (äº”) çŸ¥åºŠ â†’ é‡§è·¯</h4>
    <div class="info-row"><span class="info-label">ç¬¬ä¸€æ®µ</span><span class="info-value">çŸ¥åºŠæ©Ÿå ´ç·šå·´å£«</span></div>
    <div class="info-row"><span class="info-label">ä¸Šè»Š</span><span class="info-value">09:43 åŒ—è¾›å¤·é£¯åº—é–€å£</span></div>
    <div class="info-row"><span class="info-label">ä¸‹è»Š</span><span class="info-value">10:36 æ–œé‡Œå·´å£«ç¸½ç«™</span></div>
    <div class="info-row"><span class="info-label">å‚™è¨»</span><span class="info-value">ç„¡éœ€é ç´„ï¼Œç›´æ¥ç­‰è»Š</span></div>
    <div style="border-top:1px solid rgba(255,255,255,.06);margin:10px 0"></div>
    <div class="info-row"><span class="info-label">ç¬¬äºŒæ®µ</span><span class="info-value">JR å¿«é€Ÿã€ŒçŸ¥åºŠæ‘©å‘¨è™Ÿã€</span></div>
    <div class="info-row"><span class="info-label">ç™¼è»Š</span><span class="info-value">11:14 JR çŸ¥åºŠæ–œé‡Œç«™</span></div>
    <div class="info-row"><span class="info-label">æŠµé”</span><span class="info-value">13:34 JR é‡§è·¯ç«™</span></div>
  </div>

  <div class="info-card">
    <h4>02/22 (æ—¥) é‡§è·¯ â†’ ç¶²èµ° â†’ æ—­å·</h4>
    <div class="info-row"><span class="info-label">ç¬¬ä¸€æ®µ</span><span class="info-value">æ±åŒ—æµ·é“ç‰¹æ€¥å·´å£« 4 è™Ÿ</span></div>
    <div class="info-row"><span class="info-label">ç™¼è»Š</span><span class="info-value">07:50 é‡§è·¯ç«™å‰</span></div>
    <div class="info-row"><span class="info-label">æŠµé”</span><span class="info-value">15:05 ç¶²èµ°ç«™</span></div>
    <div class="info-row"><span class="info-label">é ç´„è™Ÿç¢¼</span><span class="info-value mono">1018929537</span></div>
    <div style="border-top:1px solid rgba(255,255,255,.06);margin:10px 0"></div>
    <div class="info-row"><span class="info-label">ç¬¬äºŒæ®µ (é¦–é¸)</span><span class="info-value">JR ç‰¹æ€¥ Okhotsk 84 è™Ÿ</span></div>
    <div class="info-row"><span class="info-label">ç™¼è»Š</span><span class="info-value">15:40 ç¶²èµ°</span></div>
    <div class="info-row"><span class="info-label">æŠµé”</span><span class="info-value">20:01 æ—­å·</span></div>
    <div style="border-top:1px solid rgba(255,255,255,.06);margin:10px 0"></div>
    <div class="info-row"><span class="info-label">ç¬¬äºŒæ®µ (å‚™é¸)</span><span class="info-value">JR ç‰¹æ€¥å¤§é›ªè™Ÿ</span></div>
    <div class="info-row"><span class="info-label">ç™¼è»Š</span><span class="info-value">17:49 ç¶²èµ°</span></div>
    <div class="info-row"><span class="info-label">æŠµé”</span><span class="info-value">21:44 æ—­å·</span></div>
  </div>

  <div class="info-card">
    <h4>02/24 (æˆ– 02/23) æ—­å²³ãƒ­ãƒ¼ãƒ—ã‚¦ã‚§ã‚¤</h4>
    <div class="info-row"><span class="info-label">å·´å£«</span><span class="info-value">ã„ã§æ¹¯å· (66ç•ª) æ—­å·ç«™ç™¼</span></div>
    <div class="info-row"><span class="info-label">å»ç¨‹</span><span class="info-value">09:15 â†’ 11:03 æ—­å²³</span></div>
    <div class="info-row"><span class="info-label">å›ç¨‹</span><span class="info-value">14:15 æˆ– 16:03 ç™¼è»Š</span></div>
    <div class="info-row"><span class="info-label">è»Šç¨‹</span><span class="info-value">ç´„ 1h (è¨ˆç¨‹è»Š/åŒ…è»Š)</span></div>
    <div style="border-top:1px solid rgba(255,255,255,.06);margin:10px 0"></div>
    <div class="info-row"><span class="info-label">çºœè»Šé‹è¡Œ</span><span class="info-value">9:00 èµ·ï¼Œæœ«ç­ä¸‹å±± 15:40</span></div>
    <div class="info-row"><span class="info-label">ç­è·</span><span class="info-value">æ¯ 20 åˆ†é˜</span></div>
    <div class="info-row"><span class="info-label">ç¥¨åƒ¹ (ä¾†å›)</span><span class="info-value">å¤§äºº Â¥2,300~2,800</span></div>
    <div class="info-row"><span class="info-label">å®˜ç¶²</span><span class="info-value"><a href="https://asahidake.hokkaido.jp/ja/" target="_blank">asahidake.hokkaido.jp</a></span></div>
  </div>

  <div class="info-card">
    <h4>02/25-27 ç§Ÿè»Šè‡ªé§•</h4>
    <div class="info-row"><span class="info-label">åº—èˆ–</span><span class="info-value">æ—¥ç”¢ç§Ÿè»Š æ—­å·ç«™å‰åº—</span></div>
    <div class="info-row"><span class="info-label">è»Šå‹</span><span class="info-value">KICKS e-POWER 4WD</span></div>
    <div class="info-row"><span class="info-label">å–è»Š</span><span class="info-value">02/25 11:00</span></div>
    <div class="info-row"><span class="info-label">é‚„è»Š</span><span class="info-value">02/27 12:00 åŸåº—</span></div>
    <div class="info-row"><span class="info-label">é ç´„è™Ÿç¢¼</span><span class="info-value mono">26012301772</span></div>
  </div>
</div>

<!-- Hotels -->
<div class="section" id="hotels">
  <div class="section-title"><span class="icon">ğŸ¨</span> ä½å®¿ç¸½è¦½</div>

  <div class="info-card">
    <h4>çŸ¥åºŠæ ¼è˜­åŒ—è¾›å¤· (02/18-20, 2æ™š)</h4>
    <div class="info-row"><span class="info-label">è¨‚æˆ¿äºº</span><span class="info-value">CHEN HAOSHEN</span></div>
    <div class="info-row"><span class="info-label">é ç´„è™Ÿç¢¼</span><span class="info-value mono">T6F0664F5CABF</span></div>
    <div class="info-row"><span class="info-label">å¹³å°</span><span class="info-value">tripla</span></div>
    <div class="info-row"><span class="info-label">é¤é£Ÿ</span><span class="info-value"><span class="badge badge-meal">æ—©æ™šé¤</span></span></div>
    <div class="info-row"><span class="info-label">å®˜ç¶²</span><span class="info-value"><a href="https://www.shiretoko.co.jp/contact" target="_blank">shiretoko.co.jp</a></span></div>
  </div>

  <div class="info-card">
    <h4>åŒ—æµ·é“åº·ç¦ç‰¹é…’åº— (02/20-22, 2æ™š)</h4>
    <div class="info-row"><span class="info-label">è¨‚æˆ¿äºº</span><span class="info-value">WANG HSIU JU</span></div>
    <div class="info-row"><span class="info-label">é ç´„è™Ÿç¢¼</span><span class="info-value mono">6341.840.053</span></div>
    <div class="info-row"><span class="info-label">PIN</span><span class="info-value mono">3510</span></div>
    <div class="info-row"><span class="info-label">å¹³å°</span><span class="info-value">Booking.com</span></div>
    <div class="info-row"><span class="info-label">é¤é£Ÿ</span><span class="info-value"><span class="badge badge-meal">æ—©é¤</span></span></div>
  </div>

  <div class="info-card">
    <h4>HOTEL AMANEK (02/22-25, 3æ™š)</h4>
    <div class="info-row"><span class="info-label">è¨‚æˆ¿äºº</span><span class="info-value">WANG HSIU JU</span></div>
    <div class="info-row"><span class="info-label">é ç´„è™Ÿç¢¼</span><span class="info-value mono">6547.404.568</span></div>
    <div class="info-row"><span class="info-label">PIN</span><span class="info-value mono">8296</span></div>
    <div class="info-row"><span class="info-label">å¹³å°</span><span class="info-value">Booking.com</span></div>
    <div class="info-row"><span class="info-label">é¤é£Ÿ</span><span class="info-value">ä¸å«é¤</span></div>
  </div>

  <div class="info-card">
    <h4>é†‹æ —æ—…é¤¨ Gooseberry (02/25-26, 1æ™š)</h4>
    <div class="info-row"><span class="info-label">è¨‚æˆ¿äºº</span><span class="info-value">CHEN HAO SHEN</span></div>
    <div class="info-row"><span class="info-label">é ç´„è™Ÿç¢¼</span><span class="info-value mono">5025.118.692</span></div>
    <div class="info-row"><span class="info-label">PIN</span><span class="info-value mono">6999</span></div>
    <div class="info-row"><span class="info-label">å¹³å°</span><span class="info-value">Booking.com</span></div>
    <div class="info-row"><span class="info-label">Email</span><span class="info-value"><a href="mailto:irish.gooseberry@gmail.com">irish.gooseberry@gmail.com</a></span></div>
    <div class="info-row"><span class="info-label">é¤é£Ÿ</span><span class="info-value"><span class="badge badge-meal">æ—©é¤</span></span></div>
  </div>

  <div class="info-card">
    <h4>Meiji ã®ä¸˜ã®å®¿ (02/26-27, 1æ™š)</h4>
    <div class="info-row"><span class="info-label">è¨‚æˆ¿äºº</span><span class="info-value">HAOSHEN CHEN</span></div>
    <div class="info-row"><span class="info-label">å¹³å°</span><span class="info-value">ç›´æ¥éƒµä»¶</span></div>
    <div class="info-row"><span class="info-label">Email</span><span class="info-value"><a href="mailto:biei.meijinooka@gmail.com">biei.meijinooka@gmail.com</a></span></div>
    <div class="info-row"><span class="info-label">é¤é£Ÿ</span><span class="info-value"><span class="badge badge-meal">æ—©é¤</span></span></div>
  </div>

  <div class="info-card">
    <h4>JR Inn åƒæ­² (02/27-28, 1æ™š)</h4>
    <div class="info-row"><span class="info-label">è¨‚æˆ¿äºº</span><span class="info-value">WANG HSIU JU</span></div>
    <div class="info-row"><span class="info-label">é ç´„è™Ÿç¢¼</span><span class="info-value mono">6752.101.658</span></div>
    <div class="info-row"><span class="info-label">PIN</span><span class="info-value mono">5666</span></div>
    <div class="info-row"><span class="info-label">å¹³å°</span><span class="info-value">Booking.com</span></div>
    <div class="info-row"><span class="info-label">é¤é£Ÿ</span><span class="info-value">ä¸å«é¤</span></div>
  </div>
</div>

<!-- Insurance -->
<div class="section" id="insurance">
  <div class="section-title"><span class="icon">ğŸ›¡</span> ä¿éšª</div>
  <div class="info-card">
    <h4>æ—…è¡Œä¸ä¾¿éšª</h4>
    <div class="info-row"><span class="info-label">ä¿éšªå…¬å¸</span><span class="info-value">ç¾å•†å®‰é” (Chubb)</span></div>
    <div class="info-row"><span class="info-label">ä¿å–®è™Ÿç¢¼</span><span class="info-value mono">EWRTWAA0699147</span></div>
    <div class="info-row"><span class="info-label">æ•ˆæœŸ</span><span class="info-value">02/17 21:00 ~ 02/28 21:00</span></div>
  </div>
</div>

<div class="footer">
  <p>Built for offline use &middot; Add to Home Screen for best experience</p>
</div>

<!-- Install Banner -->
<div class="install-banner" id="installBanner">
  <button class="dismiss" onclick="dismissInstall()">&times;</button>
  <strong>åŠ å…¥ä¸»ç•«é¢</strong>
  <div style="font-size:.85rem;color:var(--text2);margin-top:4px">é›¢ç·šä¹Ÿèƒ½æŸ¥çœ‹è¡Œç¨‹</div>
  <button class="btn" id="installBtn">å®‰è£</button>
</div>

<script>
// Accordion
function toggle(el){el.closest('.day-card').classList.toggle('open')}

// Open today's card automatically
(function(){
  const now=new Date();
  const m=now.getMonth(),d=now.getDate(),y=now.getFullYear();
  if(y===2026&&m===1){
    const dayMap={17:1,18:2,19:3,20:4,21:5,22:6,23:7,24:8,25:9,26:10,27:11};
    if(dayMap[d]){
      const card=document.querySelector('#day-'+dayMap[d]+' .day-card');
      if(card)card.classList.add('open');
      const navLink=document.querySelector('a[href="#day-'+dayMap[d]+'"]');
      if(navLink)navLink.classList.add('today');
    }
  }
})();

// Snowfall + Pikmin
(function(){
  const c=document.getElementById('snow'),ctx=c.getContext('2d');
  let w,h,flakes=[],pikmins=[];
  const PI=Math.PI;

  // Pikmin types: color, leaf/flower color, flower type
  const types=[
    {body:'#e84040',leaf:'#4caf50',type:'leaf'},      // Red - leaf
    {body:'#4488dd',leaf:'#4caf50',type:'leaf'},       // Blue - leaf
    {body:'#a8d8ea',leaf:'#e0f0ff',type:'ice'},        // Ice - crystal
    {body:'#f5e642',leaf:'#fff',type:'flower'},        // Yellow - daisy
    {body:'#9c5fbf',leaf:'#e84090',type:'flower'},     // Purple - rose
  ];

  function drawPikmin(p){
    const s=p.size, x=p.x, baseY=p.groundY;
    const bounce=Math.abs(Math.sin(p.phase))*3*s/14;
    const y=baseY-bounce;
    const lean=Math.sin(p.phase)*0.08*p.dir;
    ctx.save();
    ctx.translate(x,y);
    ctx.rotate(lean);

    // Legs (two little stubs)
    const legSwing=Math.sin(p.phase)*3;
    ctx.fillStyle=p.c.body;
    ctx.beginPath();ctx.ellipse(-s*0.2,s*0.05+legSwing,s*0.1,s*0.18,0,0,PI*2);ctx.fill();
    ctx.beginPath();ctx.ellipse(s*0.2,s*0.05-legSwing,s*0.1,s*0.18,0,0,PI*2);ctx.fill();

    // Body
    ctx.fillStyle=p.c.body;
    ctx.beginPath();ctx.ellipse(0,-s*0.25,s*0.35,s*0.4,0,0,PI*2);ctx.fill();

    // Eyes
    const ex=s*0.12*p.dir, ey=-s*0.3;
    ctx.fillStyle='#fff';
    ctx.beginPath();ctx.arc(ex-s*0.08,ey,s*0.1,0,PI*2);ctx.fill();
    ctx.beginPath();ctx.arc(ex+s*0.12,ey,s*0.1,0,PI*2);ctx.fill();
    ctx.fillStyle='#222';
    ctx.beginPath();ctx.arc(ex-s*0.05,ey,s*0.05,0,PI*2);ctx.fill();
    ctx.beginPath();ctx.arc(ex+s*0.15,ey,s*0.05,0,PI*2);ctx.fill();

    // Nose (little pointy thing)
    ctx.fillStyle=p.c.body;
    ctx.beginPath();
    ctx.moveTo(s*0.25*p.dir,-s*0.25);
    ctx.lineTo(s*0.45*p.dir,-s*0.22);
    ctx.lineTo(s*0.25*p.dir,-s*0.18);
    ctx.fill();

    // Stem
    const stemTop=-s*0.85;
    ctx.strokeStyle='#4caf50';
    ctx.lineWidth=s*0.06;
    ctx.beginPath();
    ctx.moveTo(0,-s*0.6);
    ctx.quadraticCurveTo(s*0.1*Math.sin(p.phase*0.7),stemTop+s*0.15,0,stemTop);
    ctx.stroke();

    // Top decoration
    if(p.c.type==='leaf'){
      ctx.fillStyle=p.c.leaf;
      ctx.beginPath();
      ctx.ellipse(s*0.05,stemTop,s*0.15,s*0.08,0.5,0,PI*2);ctx.fill();
    }else if(p.c.type==='flower'){
      const fc=p.c.leaf;
      for(let i=0;i<5;i++){
        const a=PI*2/5*i+p.phase*0.2;
        ctx.fillStyle=fc;
        ctx.beginPath();ctx.ellipse(Math.cos(a)*s*0.1,stemTop+Math.sin(a)*s*0.1,s*0.08,s*0.06,a,0,PI*2);ctx.fill();
      }
      ctx.fillStyle='#ffe066';
      ctx.beginPath();ctx.arc(0,stemTop,s*0.06,0,PI*2);ctx.fill();
    }else if(p.c.type==='ice'){
      // Crystal top
      ctx.fillStyle='rgba(200,230,255,0.8)';
      ctx.beginPath();
      ctx.moveTo(0,stemTop-s*0.15);
      ctx.lineTo(-s*0.1,stemTop);
      ctx.lineTo(0,stemTop-s*0.05);
      ctx.lineTo(s*0.1,stemTop);
      ctx.closePath();ctx.fill();
      ctx.strokeStyle='rgba(255,255,255,0.6)';
      ctx.lineWidth=s*0.03;
      ctx.stroke();
    }

    ctx.restore();
  }

  function makePikmin(){
    const t=types[Math.floor(Math.random()*types.length)];
    const s=12+Math.random()*8;
    const dir=Math.random()>0.5?1:-1;
    return {
      x:dir>0?-20:w+20,
      groundY:h-8-Math.random()*15,
      size:s,dir:dir,
      speed:(0.3+Math.random()*0.5)*dir,
      phase:Math.random()*PI*2,
      c:t
    };
  }

  function resize(){
    const rect=c.parentElement.getBoundingClientRect();
    w=c.width=rect.width;h=c.height=rect.height;
    flakes=Array.from({length:40},()=>({x:Math.random()*w,y:Math.random()*h,r:Math.random()*2+1,dx:Math.random()*.5-.25,dy:Math.random()*1+.5}));
    pikmins=Array.from({length:4},()=>{const p=makePikmin();p.x=Math.random()*w;return p});
  }
  resize();window.addEventListener('resize',resize);

  function draw(){
    ctx.clearRect(0,0,w,h);

    // Snow
    ctx.fillStyle='#fff';
    flakes.forEach(f=>{
      ctx.beginPath();ctx.arc(f.x,f.y,f.r,0,PI*2);ctx.fill();
      f.x+=f.dx;f.y+=f.dy;
      if(f.y>h){f.y=0;f.x=Math.random()*w}
      if(f.x>w)f.x=0;if(f.x<0)f.x=w;
    });

    // Pikmin
    pikmins.forEach(p=>{
      p.x+=p.speed;
      p.phase+=0.12;
      drawPikmin(p);
      // Reset when off screen
      if((p.dir>0&&p.x>w+30)||(p.dir<0&&p.x<-30)){
        Object.assign(p,makePikmin());
      }
    });

    requestAnimationFrame(draw);
  }
  draw();
})();

// Nav highlight on scroll
const sections=document.querySelectorAll('.section[id]');
const navLinks=document.querySelectorAll('.nav a');
const obs=new IntersectionObserver(entries=>{
  entries.forEach(e=>{if(e.isIntersecting){
    navLinks.forEach(l=>l.classList.remove('active'));
    const link=document.querySelector('.nav a[href="#'+e.target.id+'"]');
    if(link){link.classList.add('active');link.scrollIntoView({inline:'center',block:'nearest',behavior:'smooth'})}
  }})
},{threshold:.3,rootMargin:'-60px 0px -60% 0px'});
sections.forEach(s=>obs.observe(s));

// PWA Install
let deferredPrompt;
window.addEventListener('beforeinstallprompt',e=>{e.preventDefault();deferredPrompt=e;
  document.getElementById('installBanner').style.display='block'});
document.getElementById('installBtn').addEventListener('click',async()=>{
  if(deferredPrompt){deferredPrompt.prompt();await deferredPrompt.userChoice;deferredPrompt=null;
    document.getElementById('installBanner').style.display='none'}});
function dismissInstall(){document.getElementById('installBanner').style.display='none'}

// Register SW
if('serviceWorker'in navigator){navigator.serviceWorker.register('sw.js').catch(()=>{})}
</script>
</body>
</html>
